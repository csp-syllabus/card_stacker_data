{"version":3,"file":"CheckBox.js","sources":["../src/CheckBox.ts"],"sourcesContent":["import { Texture, Rectangle } from '@pixi/core';\nimport { Container } from '@pixi/display';\nimport { Sprite } from '@pixi/sprite';\nimport { TextStyle, Text, ITextStyle } from '@pixi/text';\nimport { Signal } from 'typed-signals';\nimport { Switch } from './Switch';\n\nexport type CheckBoxStyle = {\n    checked: Container | string;\n    unchecked: Container | string;\n    text?: TextStyle | Partial<ITextStyle>;\n};\n\nexport type CheckBoxOptions = {\n    style: CheckBoxStyle;\n    text: string;\n    checked?: boolean;\n};\n\n/**\n * Creates a container based checkbox element\n * @example\n * ```\n *  new CheckBox({\n *     checked: false,\n *     style: {\n *         unchecked: new PixiSprite(Texture.from(`switch_off.png`)),\n *         checked: new PixiSprite(Texture.from(`switch_on.png`)),\n *     }\n * });\n *\n * ```\n */\nexport class CheckBox extends Switch\n{\n    private label: Text;\n\n    constructor(options: CheckBoxOptions)\n    {\n        const unchecked = typeof options.style.unchecked === 'string'\n            ? new Sprite(Texture.from(options.style.unchecked))\n            : options.style.unchecked;\n\n        const checked = typeof options.style.checked === 'string'\n            ? new Sprite(Texture.from(options.style.checked))\n            : options.style.checked;\n\n        super([unchecked, checked], options.checked ? 1 : 0);\n\n        if (options.text)\n        {\n            this.label = new Text(options.text, options.style.text);\n            this.label.x = unchecked.width + 10;\n            this.label.y = (unchecked.height - this.label.height) / 2;\n            unchecked.addChild(this.label);\n\n            this.label = new Text(options.text, options.style.text);\n            this.label.x = checked.width + 10;\n            this.label.y = (checked.height - this.label.height) / 2;\n            checked.addChild(this.label);\n        }\n\n        this.update();\n\n        this.onChange = new Signal();\n    }\n\n    /** TODO */\n    public update()\n    {\n        this.hitArea = new Rectangle(0, 0, this.width, this.height);\n    }\n\n    /** TODO */\n    public set text(text: string)\n    {\n        this.label.text = text;\n        this.update();\n    }\n\n    /** TODO */\n    public get text(): string\n    {\n        return this.label.text;\n    }\n\n    /** TODO */\n    public get checked(): boolean\n    {\n        return this.activeViewID === 1;\n    }\n\n    /** TODO */\n    public set checked(checked: boolean)\n    {\n        this.switch(checked ? 1 : 0);\n        this.update();\n    }\n}\n"],"names":["Switch","Sprite","Texture","Text","Signal","Rectangle"],"mappings":";;;;;;;;AAiCO,MAAM,iBAAiBA,aAC9B,CAAA;AAAA,EAGI,YAAY,OACZ,EAAA;AACI,IAAA,MAAM,YAAY,OAAO,OAAA,CAAQ,KAAM,CAAA,SAAA,KAAc,WAC/C,IAAIC,aAAA,CAAOC,YAAQ,CAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,SAAS,CAAC,CAAA,GAChD,QAAQ,KAAM,CAAA,SAAA,CAAA;AAEpB,IAAA,MAAM,UAAU,OAAO,OAAA,CAAQ,KAAM,CAAA,OAAA,KAAY,WAC3C,IAAID,aAAA,CAAOC,YAAQ,CAAA,IAAA,CAAK,QAAQ,KAAM,CAAA,OAAO,CAAC,CAAA,GAC9C,QAAQ,KAAM,CAAA,OAAA,CAAA;AAEpB,IAAA,KAAA,CAAM,CAAC,SAAW,EAAA,OAAO,GAAG,OAAQ,CAAA,OAAA,GAAU,IAAI,CAAC,CAAA,CAAA;AAEnD,IAAA,IAAI,QAAQ,IACZ,EAAA;AACI,MAAA,IAAA,CAAK,QAAQ,IAAIC,SAAA,CAAK,QAAQ,IAAM,EAAA,OAAA,CAAQ,MAAM,IAAI,CAAA,CAAA;AACtD,MAAK,IAAA,CAAA,KAAA,CAAM,CAAI,GAAA,SAAA,CAAU,KAAQ,GAAA,EAAA,CAAA;AACjC,MAAA,IAAA,CAAK,MAAM,CAAK,GAAA,CAAA,SAAA,CAAU,MAAS,GAAA,IAAA,CAAK,MAAM,MAAU,IAAA,CAAA,CAAA;AACxD,MAAU,SAAA,CAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAA;AAE7B,MAAA,IAAA,CAAK,QAAQ,IAAIA,SAAA,CAAK,QAAQ,IAAM,EAAA,OAAA,CAAQ,MAAM,IAAI,CAAA,CAAA;AACtD,MAAK,IAAA,CAAA,KAAA,CAAM,CAAI,GAAA,OAAA,CAAQ,KAAQ,GAAA,EAAA,CAAA;AAC/B,MAAA,IAAA,CAAK,MAAM,CAAK,GAAA,CAAA,OAAA,CAAQ,MAAS,GAAA,IAAA,CAAK,MAAM,MAAU,IAAA,CAAA,CAAA;AACtD,MAAQ,OAAA,CAAA,QAAA,CAAS,KAAK,KAAK,CAAA,CAAA;AAAA,KAC/B;AAEA,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAEZ,IAAK,IAAA,CAAA,QAAA,GAAW,IAAIC,mBAAO,EAAA,CAAA;AAAA,GAC/B;AAAA;AAAA,EAGO,MACP,GAAA;AACI,IAAK,IAAA,CAAA,OAAA,GAAU,IAAIC,cAAU,CAAA,CAAA,EAAG,GAAG,IAAK,CAAA,KAAA,EAAO,KAAK,MAAM,CAAA,CAAA;AAAA,GAC9D;AAAA;AAAA,EAGA,IAAW,KAAK,IAChB,EAAA;AACI,IAAA,IAAA,CAAK,MAAM,IAAO,GAAA,IAAA,CAAA;AAClB,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AAAA;AAAA,EAGA,IAAW,IACX,GAAA;AACI,IAAA,OAAO,KAAK,KAAM,CAAA,IAAA,CAAA;AAAA,GACtB;AAAA;AAAA,EAGA,IAAW,OACX,GAAA;AACI,IAAA,OAAO,KAAK,YAAiB,KAAA,CAAA,CAAA;AAAA,GACjC;AAAA;AAAA,EAGA,IAAW,QAAQ,OACnB,EAAA;AACI,IAAK,IAAA,CAAA,MAAA,CAAO,OAAU,GAAA,CAAA,GAAI,CAAC,CAAA,CAAA;AAC3B,IAAA,IAAA,CAAK,MAAO,EAAA,CAAA;AAAA,GAChB;AACJ;;;;"}